<link rel="stylesheet" href="/css/createRecipe.css">
<script type='application/javascript' src='/js/createRecipe.js' defer></script>

<script>
    document.querySelector("title").appendChild(document.createTextNode("Create Recipe"));
</script>

<div id="card">
    <div id="content">
        <div style="margin-bottom: 40px">
            <h1 id="heading">Create Recipe</h1>
            <p><span class="required">*</span> Required Field</p>
        </div>

        <form id="createRecipeForm" action="/user/createrecipe" method="POST" enctype="multipart/form-data">
            <fieldset class="createRecipeFieldset">
                <div>
                    <div class="inputHeader">
                        <label for="recipeName" class="visibleLabel">Recipe Name <span class="required">*</span></label>
                        <div class="charCountContainer"><span id="nameCounter"></span><span>/40</span></div>
                    </div>
                    <input enterkeyhint="next" type="text" name="recipeName" id="recipeName" class="inputField" placeholder="e.g. Skillet-Roasted Chicken Afritada" autocomplete="off" maxlength="40"required>
                </div>
                
                <div>
                    <label for="servingSize" class="visibleLabel">Serving Size <span class="required">*</span></label>
                    <input enterkeyhint="next" type="number" name="servingSize" id="servingSize" class="inputField" placeholder="e.g. 4" autocomplete="off" required>
                </div>
            </fieldset>

            <fieldset class="createRecipeFieldset">
                <div style="width: 100%;">
                    <label for="recipeCategory" class="visibleLabel">Recipe Category <span class="required">*</span></label>
                    <select name="recipeCategory" id="recipeCategory" required>
                        <option value="" selected disabled hidden>Select a category</option>
                        <option value="breakfast">Breakfast</option>
                        <option value="appetizer">Appetizer</option>
                        <option value="main">Main</option>
                        <option value="soup">Soup</option>
                        <option value="dessert">Dessert</option>
                    </select>
                </div>
            </fieldset>

            <hr class="divider">
            <div class="section">
                <h2>Ingredients <span class="required">*</span></h2>
            </div>
            <div class="createRecipeFieldset ingredientsFieldset">
                <div class="ingredientContainer">
                    <i tabindex="0" class="fas fa-times removeIngredient"></i>
                    <label for="ingredients" hidden>Ingredient</label>
                    <input enterkeyhint="next" type="text" name="ingredients[]" id="ingredients" class="inputField" placeholder="e.g. 3 Tbsp. sweet paprika" autocomplete="off" required>
                </div>
                <button type="button" id="addIngredient"><i class="fas fa-plus"></i></button>
            </div>

            <hr class="divider">
            <div class="section">
                <h2>Directions <span class="required">*</span></h2>
            </div>
            <div class="createRecipeFieldset directionsFieldset">
                <div class="directionContainer">
                    <i tabindex="0" class="fas fa-times removeDirection"></i>
                    <label for="directions" hidden>Direction</label>
                    <input enterkeyhint="next" type="text" name="directions[]" id="directions" class="inputField" placeholder="e.g. Marinate chicken breasts for 3 hours" autocomplete="off" required>
                </div>
                <button type="button" id="addDirection" enterkeyhint="done"><i class="fas fa-plus"></i></button>
            </div>

            <hr class="divider">
            <div class="section">
                <h2>Image <span class="required">*</span></h2>
                <p>Accepted file types: png, jpeg, jpg, heic, heif, webp</p>
                <p>Max upload size: 10mb</p>
                <div id="imageTemplate">
                    <div>
                        <h3>Tips for best looking photo:</h3>
                        <p>- Take a portrait photo</p>
                        <p>- Keep dish centered in photo (crop if necessary)</p>
                    </div>
                    <img src="/images/imageTemplate.webp" alt="">
                </div>
            </div>
            <fieldset class="createRecipeFieldset">
                <label for="imageFile" id="imageFileLabel">Upload a Photo</label>
                <input type="file" name="imageFile" id="imageFile" accept="image/*" required>
            </fieldset>
            <p id="filePath">File Selected: <span></span></p>
            
            <hr class="divider">
            <div class="section">
                <h2>Comments / Notes</h2>
            </div>
            <fieldset class="createRecipeFieldset">
                <label for="notes" hidden>Recipe Comments/Notes</label>
                <textarea name="notes" id="notes" autocomplete="off" placeholder="Add special comments, notes or instructions here"></textarea>
            </fieldset>

            <hr class="divider">
            <fieldset class="createRecipeFieldset" id="finishButtons">
                <div>
                    <button type="button" id="cancelButton"><a href="/">Cancel</a></button>
                </div>
                <div>
                    <button type="submit" id="submitButton" />Submit</button>
                </div>
            </fieldset>
        </form>
    </div>
</div>