{{#section 'head'}}
    <link rel="stylesheet" href="/css/desserts.css">
    <link rel="stylesheet" href="/css/categoryCards.css">
{{/section}}

<script>
    document.querySelector("meta[name='theme-color']").setAttribute("content", "#FADEF4");
    document.querySelector("title").appendChild(document.createTextNode("Desserts"));

    imgPreload = new Image();
    imgPreload.src = "/images/categoryContent/desserts/headerPlate.webp";
</script>

<div>
    <div id="headerColorFill"></div>
    <div id="headerBackdrop">
        <div>
            <svg viewBox="0 0 1440 547" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M0 547V0H1440L1443 363C1337.5 488 1071.6 601.8 714 453C356.4 304.2 89 453.667 0 547Z" fill="#FADEF4"/>
            </svg>

            <div id="headingContent">
                <h1 id="headerTitle">Desserts</h1>
                <div class="headerImage" style="background-image: url(/images/categoryContent/desserts/headerPlate.webp);"></div>
                {{!-- <img src="/images/categoryContent/desserts/headerPlate.webp" alt="Fruit cake with strawberries and blueberries on top."> --}}
            </div>
        </div>
    </div>

        {{#if error}}
        <div id="errorBox">
            <h1>{{error}}</h1>
        </div>
        {{else}}

    <div id="cardSpace">
        {{#each recipe}}
        <div class="recipeCard">
            <a href="/recipe/{{_id}}">
                <div class="cardContent">
                    <div class="cardSection imageSection">
                        <div style="background-image: url('/images/recipeImages/{{image.imageFile}}');"></div>
                    </div>
                    <div class="cardSection">
                        <div class="cardTextSection">
                            <div class="cardHeading">
                                <h1>{{recipeName}}</h1>
                            </div>
                            <div class="cardBody">
                                <p>{{ingredientCount}} {{#if oneIngredient}}Ingredient{{else}}Ingredients{{/if}}</p>
                                <p>{{directionCount}} {{#if oneDirection}}Step{{else}}Steps{{/if}}</p>
                            </div>
                            <div class="cardFooter">
                                <p>{{createdBy.firstName}} {{createdBy.lastName}}</p>
                            </div>
                        </div>
                    </div>
                </div>
            </a>
        </div>
        {{/each}}
    </div>
    {{/if}}
</div>